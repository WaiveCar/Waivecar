<ion-view class="past-rides-content">

  <ion-nav-title>
    <page-title class="dark-bg">Past Rides</page-title>
  </ion-nav-title>



  <ion-content scroll="true" class="has-header ion-content--center dark-bg">
    <div class="ride-block" ng-repeat="ride in rides" ng-show="ride.carId">
      <div class="header">{{ride.dateHeader}}<span class="line"></span></div>
        <div class="body">
          <div class="title">
            Booking #{{ride.id}} in {{ride.car.license}}
          </div>
          <div class="info-holder">
            <div class="info-item">
              <div>
                Start:
                {{ride.startTime}}
              </div>
              <div>
                {{ride.ride.start.address ? ride.ride.start.address : "Address Not Found"}}
              </div>
            </div>
            <div class="info-item">
              <div>
                End:
                {{ride.endTime}}
              </div>
              <div>
                {{ride.ride.end.address ? ride.ride.end.address : "Address Not Found"}}
              </div>
            </div>
          </div>
        </div>
      <div class="footer">
        <div class="hour pull-left">{{((ride.ride.end.mileage - ride.ride.start.mileage) * 0.621371).toFixed(2)}} miles</div>
        <div class="price pull-right">
          {{ride.durationString}} 
          <span class="tag" ng-repeat="key in ride.ride.flags">{{ key }}</span>
          {{ride.ride.fee}}</div>
        <div class="clearfix"></div>
      </div>
    </div>
    <button type="button" class="button button-small button-positive" ng-click="getMoreRides()" ng-show="moreBtn">Load more</button>
  </ion-content>

</ion-view>
